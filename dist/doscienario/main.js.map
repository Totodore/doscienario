{"version":3,"sources":["ws (ignored)","./src/app/components/views/login/login.component.ts","./src/app/components/views/login/login.component.html","./src/app/components/tabs/welcome-tab/welcome-tab.component.ts","./src/app/components/tabs/welcome-tab/welcome-tab.component.html","./src/app/components/tabs/document/document.component.ts","./src/app/components/tabs/document/document.component.html","./src/app/services/socket.service.ts","./src/app/decorators/subscribe-event.decorator.ts","./src/app/components/utils/confirm/confirm.component.ts","./src/app/components/utils/confirm/confirm.component.html","./src/app/components/views/board/nav-bar/document-options/document-options.component.ts","./src/app/components/views/board/nav-bar/document-options/document-options.component.html","./src/app/components/tabs/project-options/project-options.component.ts","./src/app/components/tabs/project-options/project-options.component.html","./src/app/components/views/board/nav-bar/search-results/search-results.component.ts","./src/app/components/views/board/nav-bar/search-results/search-results.component.html","./src/environments/environment.ts","./src/app/guards/project.guard.ts","./src/app/models/sockets/tag-sock.model.ts","./src/app/utils/helpers.ts","./src/app/services/api.service.ts","./src/app/style/default.ts","./src/app/models/sockets/document-sock.model.ts","./src/app/components/views/board/nav-bar/nav-bar.component.ts","./src/app/components/views/board/nav-bar/nav-bar.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/guards/auth.guard.ts","./src/app/components/utils/ask-input/ask-input.component.ts","./src/app/components/utils/ask-input/ask-input.component.html","./src/app/components/tabs/project-options/user-add/user-add.component.ts","./src/app/components/tabs/project-options/user-add/user-add.component.html","./src/app/app.module.ts","./src/app/components/utils/confirm-password/confirm-password.component.ts","./src/app/components/utils/confirm-password/confirm-password.component.html","./src/app/components/views/board/nav-bar/options-separator/options-separator.component.ts","./src/app/components/views/board/nav-bar/options-separator/options-separator.component.html","./src/app/models/sockets/flags.enum.ts","./src/app/app.worker.ts","./src/app/components/utils/edit-tags/edit-tags.component.ts","./src/app/components/utils/edit-tags/edit-tags.component.html","./src/app/services/project.service.ts","./src/app/components/views/board/nav-bar/search-options/search-options.component.ts","./src/app/components/views/board/nav-bar/search-options/search-options.component.html","./src/app/components/tabs/tags-manager/add-tag/add-tag.component.ts","./src/app/components/tabs/tags-manager/add-tag/add-tag.component.html","./src/app/components/views/board/board.component.ts","./src/app/components/views/board/board.component.html","./src/app/components/utils/select-chip/select-chip.component.ts","./src/app/components/utils/select-chip/select-chip.component.html","./src/app/services/progress.service.ts","./src/app/components/tabs/tags-manager/tags-manager.component.ts","./src/app/components/tabs/tags-manager/tags-manager.component.html","./src/app/services/worker-manager.service.ts","./src/app/components/views/menu/menu.component.ts","./src/app/components/views/menu/menu.component.html","./src/app/components/views/board/header/header.component.ts","./src/app/components/views/board/header/header.component.html","./src/app/services/snackbar.service.ts","./src/app/components/views/board/tab-view/tab-view.component.ts","./src/app/components/views/board/tab-view/tab-view.component.html","./src/app/app-routing.module.ts","webpack:///./src/app/app.worker.ts?03de","./src/app/services/tab.service.ts","./src/app/components/views/board/nav-bar/add-options/add-options.component.ts","./src/app/components/views/board/nav-bar/add-options/add-options.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["/* (ignored) */","import { ProgressService } from '../../../services/progress.service';\nimport { ConfirmPasswordComponent } from '../../utils/confirm-password/confirm-password.component';\nimport { SnackbarService } from '../../../services/snackbar.service';\nimport { Router } from '@angular/router';\nimport { ApiService } from '../../../services/api.service';\nimport { Component, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  public password: string;\n  public name: string;\n\n  constructor(\n    private readonly api: ApiService,\n    private readonly snackbar: SnackbarService,\n    private readonly router: Router,\n    private readonly dialog: MatDialog,\n    private readonly progress: ProgressService\n  ) { }\n\n  ngOnInit(): void {\n    if (this.api.logged)\n      this.router.navigateByUrl(\"/\");\n  }\n\n  public async submit(form: HTMLFormElement) {\n    if (!this.checkForm(form))\n      return;\n    this.progress.show();\n    const res = await this.api.login({ name: this.name, password: this.password });\n    this.progress.hide();\n    if (res) {\n      this.router.navigateByUrl(\"/menu\");\n      this.snackbar.snack(`Bienvenu ${this.name} !`);\n    }\n    else {\n      this.password = \"\";\n      this.snackbar.snack(\"Erreur lors de la connexion\", 0);\n    }\n  }\n\n  public register(form: HTMLFormElement) {\n    if (!this.checkForm(form))\n      return;\n    const dialog = this.dialog.open(ConfirmPasswordComponent);\n    dialog.componentInstance.onConfirm.subscribe(async (pass: string) => {\n      dialog.close();\n      if (pass === this.password) {\n        this.progress.show();\n        const res = await this.api.register({ name: this.name, password: this.password });\n        this.progress.hide();\n        if (res) {\n          this.router.navigateByUrl(\"/menu\");\n          this.snackbar.snack(`Bienvenu ${this.name} !`);\n        } else\n          this.snackbar.snack(\"Erreur lors de l'inscription !\");\n      } else\n        this.snackbar.snack(\"Les mots de passe ne concordent pas !\");\n    });\n  }\n\n  private checkForm(form: HTMLFormElement) {\n    return form.checkValidity() && this.name?.length > 0 && this.password?.length > 0;\n  }\n\n}\n","<div class=\"auth-view\">\n  <div class=\"wrapper\">\n    <h1>Connexion à Doscienario</h1>\n    <form #form>\n      <mat-form-field color=\"accent\">\n        <mat-label>Pseudo</mat-label>\n        <input type=\"text\" [(ngModel)]=\"name\" matInput minlength=\"5\" maxlength=\"40\" [ngModelOptions]=\"{standalone: true}\">\n        <mat-error>Le pseudo doit être compris entre 5 et 40 caractères</mat-error>\n      </mat-form-field>\n      <mat-form-field color=\"accent\">\n        <mat-label>Mot de passe</mat-label>\n        <input type=\"password\" [(ngModel)]=\"password\" matInput minlength=\"4\" maxlength=\"40\"  [ngModelOptions]=\"{standalone: true}\">\n        <mat-error>Le mot de passe doit être compris entre 5 et 40 caractères</mat-error>\n      </mat-form-field>\n      <button type=\"submit\" mat-stroked-button color=\"accent\" (click)=\"submit(form)\">Me connecter</button>\n    </form>\n    <button mat-stroked-button color=\"accent\" (click)=\"register(form)\">Créer un compte</button>\n  </div>\n\n</div>\n","import { SnackbarService } from './../../../services/snackbar.service';\nimport { ApiService } from './../../../services/api.service';\nimport { ProgressService } from './../../../services/progress.service';\nimport { TagsManagerComponent } from './../tags-manager/tags-manager.component';\nimport { ProjectOptionsComponent } from '../project-options/project-options.component';\nimport { TabService } from '../../../services/tab.service';\nimport { ITabElement } from '../../../models/tab-element.model';\nimport { ProjectService } from '../../../services/project.service';\nimport { ChangeDetectionStrategy, Component, Input, OnInit, Provider, Type, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'app-welcome-tab',\n  templateUrl: './welcome-tab.component.html',\n  styleUrls: ['./welcome-tab.component.scss']\n})\nexport class WelcomeTabComponent implements ITabElement {\n\n  public title: string = \"Menu\";\n  @Input() public show: boolean = false;\n\n  constructor(\n    public readonly project: ProjectService,\n    public readonly tabService: TabService,\n    private readonly progress: ProgressService,\n    private readonly api: ApiService,\n    private readonly snackbar: SnackbarService\n  ) { }\n\n  public openSettings() {\n    this.tabService.pushTab(ProjectOptionsComponent);\n  }\n\n  public openTags() {\n    this.tabService.pushTab(TagsManagerComponent);\n  }\n  public async reSync() {\n    this.tabService.closeAllTab();\n    try {\n      this.progress.show();\n      await this.api.openProject(this.project.id);\n      this.snackbar.snack(\"Projet re-synchronisé !\");\n    } catch (e) {\n      this.snackbar.snack(\"Erreur lors de la re-synchronisation !\");\n    } finally {\n      this.progress.hide();\n    }\n  }\n  public async exit() {\n    this.tabService.closeAllTab();\n    this.project.exit();\n  }\n}\n","<div class=\"wrapper\" *ngIf=\"show\">\n  <h1>Bienvenue sur le projet {{ project.name }}&nbsp;!</h1>\n  <button mat-stroked-button color=\"accent\" (click)=\"openSettings()\">Configurer le projet <mat-icon matSuffix>settings</mat-icon></button>\n  <button mat-stroked-button color=\"accent\" (click)=\"openTags()\">Gérer les tags <mat-icon matSuffix>label</mat-icon></button>\n  <button mat-stroked-button color=\"accent\" (click)=\"reSync()\">Re-synchroniser le projet <mat-icon matSuffix>sync</mat-icon></button>\n  <button mat-stroked-button color=\"accent\" (click)=\"exit()\">Changer de projet <mat-icon matSuffix>logout</mat-icon></button>\n</div>\n","import { WorkerManagerService } from '../../../services/worker-manager.service';\nimport { Change, DocumentModel } from './../../../models/sockets/document-sock.model';\nimport { ProgressService } from 'src/app/services/progress.service';\nimport { ProjectService } from 'src/app/services/project.service';\nimport { SocketService } from './../../../services/socket.service';\nimport { ITabElement } from './../../../models/tab-element.model';\nimport { Component, Input, OnInit } from '@angular/core';\nimport * as CKEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport { CKEditor5 } from '@ckeditor/ckeditor5-angular';\nimport { v4 as uuid4 } from \"uuid\";\n@Component({\n  selector: 'app-document',\n  templateUrl: './document.component.html',\n  styleUrls: ['./document.component.scss']\n})\nexport class DocumentComponent implements OnInit, ITabElement {\n\n  public show: boolean = false;\n  public content: string = \"\";\n  public tabId: string;\n  public lastChangeId: number;\n  public readonly editor = CKEditor;\n\n  private displayProgress: boolean = false;\n\n  constructor(\n    private readonly socket: SocketService,\n    private readonly project: ProjectService,\n    private readonly progress: ProgressService,\n    private readonly worker: WorkerManagerService,\n  ) { }\n\n  ngOnInit(): void {\n    this.worker.addEventListener<Change[]>(\"diff\", (data) => this.onDocParsed(data));\n  }\n\n  openTab(id?: number) {\n    this.tabId = uuid4();\n    this.progress.show();\n    this.socket.openDocument(this.tabId, id);\n  }\n\n  docLoaded(editor: CKEditor5.BaseEditor): void {\n    this.progress.hide();\n    this.content = this.doc.content;\n    editor.ui.getEditableElement().parentElement.insertBefore(\n      editor.ui.view.toolbar.element,\n      editor.ui.getEditableElement()\n    )\n  }\n\n  onChange(data: string) {\n    this.worker.postMessage<[string, string]>(\"diff\", [this.content, data]);\n    this.content = data;\n    this.progressWatcher();\n  }\n\n  private onDocParsed(changes: Change[]) {\n    // console.log(\"Doc changed\", changes);\n    this.displayProgress = false;\n    this.progress.hide();\n    this.socket.updateDocument(this.docId, this.tabId, changes, this.doc.lastChangeId, ++this.doc.clientUpdateId);\n  }\n\n  private progressWatcher() {\n    this.displayProgress = true;\n    setTimeout(() => this.displayProgress && this.progress.show(), 1000);\n  }\n\n  get doc(): DocumentModel {\n    const doc = this.project.openDocs[this.tabId];\n    this.content = doc?.content || \"\";\n    return doc;\n  }\n\n  get title(): string {\n    if (this.doc == null)\n      return \"Chargement...\";\n    else if (this.doc.title?.length == 0)\n      return \"Nouveau document\";\n    else return this.doc.title;\n  }\n\n  get docId(): number {\n     return this.doc?.id;\n  }\n\n}\n","<div class=\"wrapper\" *ngIf=\"show\">\n  <ckeditor *ngIf=\"doc != null\"\n  [editor]=\"editor\"\n  [(ngModel)]=\"doc?.content == null ? '' : doc.content\"\n  (ngModelChange)=\"onChange($event)\"\n  name=\"edit\"\n  ngDefaultControl\n  (ready)=\"docLoaded($event)\"\n  ></ckeditor>\n  <h1 *ngIf=\"doc == null\">Chargement du document...</h1>\n</div>\n","import { Tag, UpdateTagColorReq, UpdateTagNameReq } from './../models/sockets/tag-sock.model';\nimport { TabService } from './tab.service';\nimport { WriteDocumentReq, Change, DocumentModel, DocumentRes, WriteDocumentRes, RenameDocumentRes, EditTagDocumentReq, AddTagDocumentRes } from './../models/sockets/document-sock.model';\nimport { ProjectService } from 'src/app/services/project.service';\nimport { Flags } from './../models/sockets/flags.enum';\nimport { ApiService } from './api.service';\nimport { environment } from '../../environments/environment';\nimport { Socket, connect } from 'socket.io-client';\nimport { EventHandler, registerHandler } from '../decorators/subscribe-event.decorator';\nimport { Injectable } from '@angular/core';\nimport { UserDetailsRes } from '../models/api/user.model';\nimport { ProjectUserRes } from '../models/api/project.model';\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketService {\n\n  public socket: typeof Socket;\n  constructor(\n    private readonly api: ApiService,\n    private readonly project: ProjectService,\n  ) {}\n\n  connect() {\n    this.socket = connect(`ws://${environment.apiUrl}`, {\n      path: \"/dash\",\n      query: {\n        \"project\": localStorage.getItem(\"project\"),\n        \"authorization\": this.api.jwt\n      }\n    });\n    this.api.socket = this.socket;\n    registerHandler(this, this.socket);\n  }\n\n  @EventHandler(\"connect\")\n  onConnect() {\n    console.info(\"Socket successfully connected\");\n  }\n\n  @EventHandler(Flags.RENAME_PROJECT)\n  onUpdateProject(name: string) {\n    this.project.name = name;\n  }\n\n  updateProject(name: string) {\n    this.socket.emit(Flags.RENAME_PROJECT, name);\n  }\n\n  updateUserProject(users: ProjectUserRes[]) {\n    const addedUser = users.filter(el => !this.project.projectUsers.find(value => el.id === value.id))?.[0];\n    const removedUser = this.project.projectUsers.filter(el => !users.find(value => el.id === value.id))?.[0];\n    if (addedUser)\n      this.socket.emit(Flags.ADD_USER_PROJECT, addedUser);\n    else if (removedUser)\n      this.socket.emit(Flags.REMOVE_USER_PROJECT, removedUser);\n  }\n\n  @EventHandler(Flags.ADD_USER_PROJECT)\n  onAddUserProject(user: UserDetailsRes) {\n    this.project.addProjectUser(user);\n  }\n\n  @EventHandler(Flags.REMOVE_USER_PROJECT)\n  onRemoveUserProject(user: UserDetailsRes) {\n    this.project.removeProjectUser(user);\n  }\n\n  /**\n   * Open a document or create one\n   */\n  openDocument(tabId: string, docId?: number) {\n    this.socket.emit(Flags.OPEN_DOC, [tabId, docId]);\n  }\n\n  @EventHandler(Flags.SEND_DOC)\n  onOpenDocument(packet: DocumentRes) {\n    this.project.addOpenDoc(packet);\n  }\n\n  closeDocument(docId: number) {\n    this.socket.emit(Flags.CLOSE_DOC, docId);\n  }\n\n  @EventHandler(Flags.CLOSE_DOC)\n  onCloseDocument(docId: number) {\n    this.project.removeOpenDoc(docId);\n  }\n\n  updateDocument(docId: number, tabId: string, changes: Change[], lastChangeId: number, clientUpdateId: number) {\n    const doc = this.project.openDocs[tabId];\n    doc.changes.set(clientUpdateId, changes);\n    this.socket.emit(Flags.WRITE_DOC, new WriteDocumentReq(changes, docId, lastChangeId, clientUpdateId, this.api.user.id));\n  }\n\n  @EventHandler(Flags.WRITE_DOC)\n  onUpdateDocument(doc: WriteDocumentRes) {\n    this.project.getDoc(doc.docId).lastChangeId = doc.updateId;\n    if (doc.userId != this.api.user.id)\n      this.project.updateDoc(doc);\n  }\n\n  @EventHandler(Flags.RENAME_DOC)\n  onRenameDocument(doc: RenameDocumentRes) {\n    this.project.getDoc(doc.docId).title = doc.title;\n  }\n\n  @EventHandler(Flags.CREATE_TAG)\n  onCreateTag(tag: Tag) {\n    const projectTag = this.project.tags.find(el => el.name == tag.name);\n    if (projectTag && projectTag.id == null)\n      this.project.updateProjectTag(tag);\n    else this.project.addProjectTag(tag);\n  }\n\n  @EventHandler(Flags.TAG_ADD_DOC)\n  onAddTagDoc(packet: AddTagDocumentRes) {\n    const projectTag = this.project.tags.find(el => el.name == packet.tag.name);\n    if (projectTag && projectTag.id == null)\n      this.project.updateProjectTag(packet.tag);\n    else if (!projectTag)\n      this.project.addProjectTag(packet.tag);\n    const doc = this.project.getDoc(packet.docId);\n    const tag = doc.tags.find(el => el.name == packet.tag.name);\n    if (tag)\n      doc.tags[doc.tags.indexOf(tag)] = packet.tag;\n    else\n      doc.tags.push(packet.tag);\n  }\n\n  @EventHandler(Flags.TAG_REMOVE_DOC)\n  onRemoveTagDoc(packet: EditTagDocumentReq) {\n    const tags = this.project.getDoc(packet.docId).tags;\n    tags.splice(tags.findIndex(el => el.name == packet.name.toLowerCase()), 1);\n  }\n\n  @EventHandler(Flags.COLOR_TAG)\n  onColorTag(packet: UpdateTagColorReq) {\n    this.project.tags.find(el => el.name === packet.name).color = packet.color;\n    this.project.saveData();\n  }\n\n  @EventHandler(Flags.RENAME_TAG)\n  onRenameTag(packet: UpdateTagNameReq) {\n    this.project.tags.find(el => el.name === packet.oldName).name = packet.name;\n    this.project.saveData();\n  }\n\n  @EventHandler(Flags.REMOVE_TAG)\n  onRemoveTag(tagName: string) {\n    this.project.removeProjectTag(tagName);\n  }\n}\n","import { Flags } from './../models/sockets/flags.enum';\nimport { Socket } from \"socket.io-client\";\n\nexport function registerHandler(listener: any, socket: typeof Socket) {\n  for (let [event, functionName] of listener.handlers) {\n    let fonction: (...args: any) => void = functionName;\n    socket.on(event, (...args: any[]) => fonction.call(listener, ...args));\n  }\n}\nexport function EventHandler(event: Flags | string) {\n  return function (target: any, key: any) {\n    if (!target.handlers)\n      target.handlers = [];\n    target.handlers.push([event, target[key]]);\n  }\n}\n","import { Component, Input, OnInit, Output, EventEmitter, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-confirm',\n  templateUrl: './confirm.component.html',\n})\nexport class ConfirmComponent {\n\n  @Output() confirm: EventEmitter<void> = new EventEmitter();\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public text: string,\n  ) {}\n}\n","<h1 mat-dialog-title>\n  {{ text }}\n</h1>\n\n<div mat-dialog-actions align=\"end\">\n  <button mat-stroked-button color=\"accent\" (click)=\"confirm.emit()\">Confirmer</button>\n</div>\n","import { Tag } from 'src/app/models/sockets/tag-sock.model';\nimport { DocumentModel } from './../../../../../models/sockets/document-sock.model';\nimport { MatDialog } from '@angular/material/dialog';\nimport { SocketService } from './../../../../../services/socket.service';\nimport { ProjectService } from 'src/app/services/project.service';\nimport { TabService } from './../../../../../services/tab.service';\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\nimport { Flags } from 'src/app/models/sockets/flags.enum';\nimport { RenameDocumentReq } from 'src/app/models/sockets/document-sock.model';\nimport { EditTagsComponent } from 'src/app/components/utils/edit-tags/edit-tags.component';\n\n@Component({\n  selector: 'app-document-options',\n  templateUrl: './document-options.component.html',\n  styleUrls: ['./document-options.component.scss']\n})\nexport class DocumentOptionsComponent {\n\n  constructor(\n    private readonly tabs: TabService,\n    private readonly project: ProjectService,\n    private readonly socket: SocketService,\n    private readonly dialog: MatDialog\n  ) { }\n\n  onRename() {\n    this.project.renameDoc(this.tabId, this.doc.title);\n    this.socket.socket.emit(Flags.RENAME_DOC, new RenameDocumentReq(this.docId, this.doc.title));\n  }\n  openTagEdit() {\n    this.dialog.open(EditTagsComponent, {\n      data: this.tabId,\n      width: \"600px\",\n      maxWidth: \"90%\",\n      maxHeight: \"90%\"\n    });\n  }\n\n  get doc(): DocumentModel {\n    return this.project.openDocs[this.tabId];\n  }\n  get docId(): number {\n    return this.tabs.displayedTab[1].docId;\n  }\n  get docTags(): Tag[] {\n    const tagIds = this.doc.tags.map(el => el.id);\n    return this.project.tags.filter(el => tagIds.includes(el.id));\n  }\n  get tabId(): string {\n    return this.tabs.displayedTab[1].tabId;\n  }\n}\n","<div class=\"wrapper\">\n  <mat-form-field color=\"accent\">\n    <mat-label>Titre du document</mat-label>\n    <input type=\"text\" #input matInput [(ngModel)]=\"doc.title\" (ngModelChange)=\"onRename()\">\n  </mat-form-field>\n  <div class=\"doc-tags\">\n    <mat-chip-list aria-label=\"doc tags\" *ngIf=\"docTags && docTags.length > 0\">\n      <mat-chip *ngFor=\"let tag of docTags\" [style]=\"'background-color: #' + tag.color\">#{{ tag.name }}</mat-chip>\n      <mat-chip (click)=\"openTagEdit()\"><mat-icon color=\"accent\">edit</mat-icon></mat-chip>\n    </mat-chip-list>\n    <button mat-stroked-button *ngIf=\"!docTags?.length\" (click)=\"openTagEdit()\" color=\"accent\">Ajouter des tags</button>\n  </div>\n</div>\n","import { SocketService } from './../../../services/socket.service';\nimport { SnackbarService } from './../../../services/snackbar.service';\nimport { ApiService } from './../../../services/api.service';\nimport { ProjectService } from '../../../services/project.service';\nimport { ITabElement } from '../../../models/tab-element.model';\nimport { ChangeDetectionStrategy, Component, OnInit, Provider, Type, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'app-project-options',\n  templateUrl: './project-options.component.html',\n  styleUrls: ['./project-options.component.scss']\n})\nexport class ProjectOptionsComponent implements ITabElement {\n\n  constructor(\n    public readonly project: ProjectService,\n    public readonly socket: SocketService\n  ) { }\n\n  public title: string = \"Options\";\n  public show: boolean = true;\n\n  public name: string = this.project.name;\n\n  public updateName() {\n    this.socket.updateProject(this.name);\n  }\n}\n","<div class=\"wrapper\" *ngIf=\"show\">\n  <h1>Configuration de {{ name }}</h1>\n  <app-user-add></app-user-add>\n  <section>\n    <mat-form-field color=\"accent\">\n      <mat-label>Nom du projet</mat-label>\n      <input type=\"text\" [(ngModel)]=\"name\" (input)=\"updateName()\" matInput>\n    </mat-form-field>\n  </section>\n</div>\n","import { DocumentComponent } from '../../../../tabs/document/document.component';\nimport { TabService } from '../../../../../services/tab.service';\nimport { GetProjectDocumentRes, SearchResults } from '../../../../../models/api/project.model';\nimport { Tag } from '../../../../../models/sockets/tag-sock.model';\nimport { ProjectService } from '../../../../../services/project.service';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { SearchQueryRes } from 'src/app/models/api/project.model';\n\n@Component({\n  selector: 'app-search-results',\n  templateUrl: './search-results.component.html',\n  styleUrls: ['./search-results.component.scss']\n})\nexport class SearchResultsComponent {\n\n  @Input() results: SearchResults;\n\n  dispTagResults: boolean = true;\n  dispDocResults: boolean = true;\n\n  constructor(\n    private readonly tabs: TabService\n  ) { }\n\n  openEl(el: GetProjectDocumentRes | Tag) {\n    console.log(el);\n    if ((el as Tag).name) {\n      //TODO: TagView\n    } else this.tabs.pushTab(DocumentComponent, false, el.id);\n  }\n}\n","<div class=\"wrapper\">\n  <div matRipple class=\"result doc\" *ngFor=\"let result of results\" (click)=\"openEl(result)\">\n    <mat-icon class=\"mat-18\">{{ result.title ? \"description\" : \"tag\" }}</mat-icon>\n    <h3>{{ result.title || result.name }}</h3>\n  </div>\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: \"localhost:3000\",\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { ApiService } from '../services/api.service';\nimport { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProjectGuard implements CanActivate {\n\n  constructor(\n    private api: ApiService,\n    private router: Router,\n  ) { }\n\n  canActivate(): boolean {\n    if (!this.api.inProject) {\n      this.router.navigateByUrl(\"/menu\");\n      return false;\n    }\n    return true;\n  }\n\n}\n","import { UserDetailsRes } from './../api/user.model';\nexport class Tag {\n\n  constructor(\n    public name: string,\n    color?: string,\n    primary: boolean = false\n  ) {\n    this.color = color;\n    this.primary = primary\n  }\n  id: number;\n\n  primary: boolean;\n\n  projectId: number;\n\n  createdById: string;\n\n  color: string;\n\n  createdBy: UserDetailsRes;\n}\n\nexport class UpdateTagColorReq {\n  constructor(\n    public name: string,\n    public color: string\n  ) {}\n}\nexport class UpdateTagNameReq {\n  constructor(\n    public oldName: string,\n    public name: string\n  ) {}\n}\n","export function setImmediate(callback: (...args: any) => void, ...args: any) {\n  setTimeout(callback, 0, args);\n}\nexport function sortByRelevance<T>(a: T, b: T, needle: string, accessor?: (el: T) => string): -1 | 0 | 1 {\n  const aVal = accessor(a);\n  const bVal = accessor(b);\n  const commonAChar = aVal.split(\"\").reduce<number>((prev, curr) => prev + (needle.split(curr).length - 1), 0);\n  const commonBChar = bVal.split(\"\").reduce<number>((prev, curr) => prev + (needle.split(curr).length - 1), 0);\n  if (commonAChar > commonBChar)\n    return 1;\n  else if (commonBChar > commonAChar)\n    return -1;\n  else\n    return 0;\n}\n","import { ProjectService } from 'src/app/services/project.service';\nimport { ProjectUserRes } from 'src/app/models/api/project.model';\nimport { Socket } from 'socket.io-client';\nimport { GetProjectRes } from './../models/api/project.model';\nimport { FileRes, ImageRes } from './../models/api/res.model';\nimport { UserLoginReq } from './../models/api/user.model';\nimport { HttpClient, HttpEvent, HttpHeaders, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n\n  private readonly root: string = `http://${environment.apiUrl}`;\n  public socket: typeof Socket;\n  constructor(\n    private readonly http: HttpClient,\n    private readonly project: ProjectService\n  ) { }\n\n\n  public async login(body: UserLoginReq): Promise<boolean> {\n    try {\n      const res = await this.http.post(`${this.root}/user/auth`, body, { responseType: \"text\" }).toPromise();\n      localStorage.setItem(\"jwt\", res);\n      return true;\n    } catch (error) {\n      console.error(error);\n      return false;\n    }\n  }\n\n  public async register(body: UserLoginReq): Promise<boolean> {\n    try {\n      const res = await this.http.post(`${this.root}/user/register`, body, { responseType: \"text\" }).toPromise();\n      localStorage.setItem(\"jwt\", res);\n      return true;\n    } catch (err) {\n      console.error(err);\n      return false;\n    }\n  }\n\n  public logout(): boolean {\n    try {\n      localStorage.removeItem(\"jwt\");\n      return true;\n    } catch (e) {\n      console.error(e);\n      return false;\n    }\n  }\n\n\n\tpublic post<Q, R>(path: string, payload?: Q): Promise<R> {\n\t\treturn this.http.post<R>(`${this.root}/${path}`, payload, {\n\t\t\theaders: {\n        \"Authorization\": this.jwt,\n      }\n\t\t}).toPromise();\n\t}\n\n\tpublic get<R>(path: string): Promise<R> {\n\t\treturn this.http.get<R>(`${this.root}/${path}`, {\n\t\t\theaders: {\n        \"Authorization\": this.jwt,\n      },\n\t\t\treportProgress: true,\n\t\t\tobserve: \"body\"\n\t\t}).toPromise();\n  }\n\n  public put<R>(path: string): Promise<R> {\n    return this.http.put<R>(`${this.root}/${path}`, {}, {\n\t\t\theaders: {\n        \"Authorization\": this.jwt,\n      },\n\t\t\treportProgress: true,\n\t\t\tobserve: \"body\"\n\t\t}).toPromise();\n  }\n\n  public delete(path: string): Promise<void> {\n    return this.http.delete<void>(`${this.root}/${path}`, {\n      headers: {\n        \"Authorization\": this.jwt,\n      }\n    }).toPromise();\n  }\n\n  public patch<Q, R>(path: string, payload?: Q): Promise<R> {\n    return this.http.patch<R>(`${this.root}/${path}`, payload, {\n      headers: {\n        \"Authorization\": this.jwt,\n      }\n    }).toPromise();\n  }\n\n  public postFile(file: File, path: string): Observable<HttpEvent<FileRes>> {\n    const form = new FormData();\n    form.append(\"file\", file);\n    form.append(\"path\", path);\n    form.append(\"projectId\", this.projectId);\n    const req = new HttpRequest(\"POST\", `${this.root}/res/file`, form, { reportProgress: true, headers: this.headers });\n\n    return this.http.request<FileRes>(req);\n  }\n\n  public async postImage(imgUrl: string, pos: number, docId: number): Promise<Observable<HttpEvent<ImageRes>>> {\n    const form = new FormData();\n    const blob = await (await fetch(imgUrl)).blob();\n    form.append(\"file\", blob);\n    form.append(\"documentPos\", pos.toString());\n    form.append(\"documentId\", docId.toString());\n    form.append(\"projectId\", this.projectId);\n    const req = new HttpRequest(\"POST\", `${this.root}/res/image`, form, { reportProgress: true, headers: this.headers });\n\n    return this.http.request<ImageRes>(req);\n  }\n\n  public async openProject(projectId: number) {\n    const res = await this.get<GetProjectRes>(`project/${projectId}`);\n    localStorage.setItem(\"project\", projectId.toString());\n    this.project.loadData(res);\n  }\n\n  public get logged(): boolean {\n    return localStorage.getItem(\"jwt\") != null;\n  }\n  public get inProject(): boolean {\n    return localStorage.getItem(\"project\") != null;\n  }\n\n  public get jwt(): string {\n    return localStorage.getItem(\"jwt\");\n  }\n  public get user(): ProjectUserRes {\n    return JSON.parse(localStorage.getItem(\"me\"));\n  }\n\n  private get projectId(): string {\n    return localStorage.getItem(\"project\");\n  }\n\n  private get headers(): HttpHeaders {\n    return new HttpHeaders({ \"Authorization\": this.jwt });\n  }\n}\n","import { MatFormFieldDefaultOptions } from \"@angular/material/form-field\";\n\nconst appearance: MatFormFieldDefaultOptions = {\n  appearance: \"outline\"\n}\n\nexport { appearance };\n","import { UserDetailsRes } from \"../api/user.model\";\nimport { Tag } from \"./tag-sock.model\";\n\nexport interface DocumentModel {\n  title: string;\n  content: string,\n  id: number,\n  lastEditor: UserDetailsRes,\n  createdBy: UserDetailsRes,\n  lastEditing: string;\n  createdDate: string;\n  tags: Tag[];\n  elIndex?: number;\n  changes: Map<number, Change[]>;\n  lastChangeId: number;\n  clientUpdateId?: number;\n}\nexport interface DocumentRes {\n  doc: DocumentModel;\n  lastUpdate: number;\n  reqId: string;\n}\nexport class WriteDocumentReq {\n\n  constructor(\n    public changes: Change[],\n    public docId: number,\n    public lastChangeId: number,\n    public clientUpdateId: number,\n    public clientId: string\n  ) {}\n}\n\nexport interface WriteDocumentRes {\n  docId: number;\n  userId: string;\n  updateId: number;\n  reqId: string;\n  changes: Change[];\n  lastClientUpdateId: number;\n}\nexport type Change = [1 | -1, number, string];\n\nexport class RenameDocumentReq {\n  constructor(\n    public docId: number,\n    public title: string,\n  ) {}\n}\n\nexport class RenameDocumentRes extends RenameDocumentReq { };\n\nexport class EditTagDocumentReq {\n  constructor(\n    public docId: number,\n    public name: string\n  ) {}\n}\n\nexport class AddTagDocumentRes {\n  constructor(\n    public docId: number,\n    public tag: Tag\n  ) {}\n}\n\n","import { SearchResults } from './../../../../models/api/project.model';\nimport { WelcomeTabComponent } from './../../../tabs/welcome-tab/welcome-tab.component';\nimport { ProjectService } from 'src/app/services/project.service';\nimport { TabService } from './../../../../services/tab.service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-nav-bar',\n  templateUrl: './nav-bar.component.html',\n  styleUrls: ['./nav-bar.component.scss']\n})\nexport class NavBarComponent {\n\n  public dispDocOptions: boolean = true;\n  public results: SearchResults;\n  constructor(\n    public readonly tabs: TabService,\n    private readonly project: ProjectService\n  ) { }\n\n  public openMenu() {\n    this.tabs.pushTab(WelcomeTabComponent);\n  }\n\n  get hasOpenedTab(): boolean {\n    return this.tabs.displayedTab != null && this.project.openDocs[this.tabs.displayedTab[1].tabId] != null;\n  }\n\n}\n","<div class=\"nav-bar\">\n  <mat-divider [vertical]=\"true\" class=\"separator\"></mat-divider>\n  <div class=\"wrapper\">\n    <app-search-options class=\"search\" (results)=\"results = $event\"></app-search-options>\n    <app-search-results [results]=\"results\" *ngIf=\"results\"></app-search-results>\n    <app-options-separator (toggle)=\"dispDocOptions = !dispDocOptions\" *ngIf=\"hasOpenedTab\"></app-options-separator>\n    <app-document-options *ngIf=\"hasOpenedTab && dispDocOptions\"></app-document-options>\n    <app-add-options></app-add-options>\n    <mat-divider *ngIf=\"tabs.hasTabs\" class=\"btn-menu-separator\"></mat-divider>\n    <button mat-stroked-button color=\"accent\" class=\"btn-menu\" (click)=\"openMenu()\" *ngIf=\"tabs.hasTabs\">Menu <mat-icon class=\"mat-18\">menu_open</mat-icon></button>\n  </div>\n</div>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'doscienario';\n}\n\nif (typeof Worker !== 'undefined') {\n  // Create a new\n  const worker = new Worker('./app.worker', { type: 'module' });\n  worker.onmessage = ({ data }) => {\n    console.log(`page got message: ${data}`);\n  };\n  worker.postMessage('hello');\n} else {\n  // Web Workers are not supported in this environment.\n  // You should add a fallback so that your program still executes correctly.\n}","<router-outlet></router-outlet>\n","import { ApiService } from '../services/api.service';\nimport { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n\n  constructor(\n    private api: ApiService,\n    private router: Router,\n  ) { }\n\n  canActivate(): boolean {\n    if (!this.api.logged) {\n      this.router.navigateByUrl(\"/auth\");\n      return false;\n    }\n    return true;\n  }\n\n}\n","import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Component, EventEmitter, Input, Output, Inject } from '@angular/core';\n\n@Component({\n  selector: 'app-ask-input',\n  templateUrl: './ask-input.component.html',\n})\nexport class AskInputComponent {\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public title: string\n  ) {}\n\n\n  @Output() public onConfirm: EventEmitter<string> = new EventEmitter();\n}\n","<h1 mat-dialog-title>\n  {{ title }}\n</h1>\n\n<div mat-dialog-content style=\"text-align: center;\">\n  <mat-form-field color=\"accent\">\n    <input type=\"text\" #input matInput >\n  </mat-form-field>\n</div>\n\n<div mat-dialog-actions align=\"end\">\n  <button mat-stroked-button color=\"accent\" (click)=\"onConfirm.emit(input.value)\">Confirmer</button>\n</div>\n","import { SocketService } from './../../../../services/socket.service';\nimport { Component, OnInit } from '@angular/core';\nimport { ProjectUserRes } from 'src/app/models/api/project.model';\nimport { ApiService } from 'src/app/services/api.service';\nimport { ProgressService } from 'src/app/services/progress.service';\nimport { ProjectService } from 'src/app/services/project.service';\nimport { SnackbarService } from 'src/app/services/snackbar.service';\nimport { setImmediate } from 'src/app/utils/helpers';\n\n@Component({\n  selector: 'app-user-add',\n  templateUrl: './user-add.component.html',\n  styleUrls: ['./user-add.component.scss']\n})\nexport class UserAddComponent implements OnInit {\n\n  constructor(\n    public readonly project: ProjectService,\n    public readonly api: ApiService,\n    public readonly progress: ProgressService,\n    public readonly socket: SocketService,\n    public readonly snackbar: SnackbarService\n  ) { }\n\n  public title: string = \"Options\";\n  public show: boolean = true;\n\n  public allUsers: ProjectUserRes[];\n  private me: ProjectUserRes;\n\n  async ngOnInit(): Promise<void> {\n    try {\n      setImmediate(() => this.progress.show());\n      this.me = JSON.parse(localStorage.getItem(\"me\"));\n      this.allUsers = await this.api.get<ProjectUserRes[]>(\"user/all\");\n      setImmediate(() => this.progress.hide());\n    } catch (e) {\n      console.error(e);\n      this.snackbar.snack(\"Impossible de récupérer certaines données\");\n      this.progress.hide();\n    }\n  }\n\n  public setUsers(userNames: string[]) {\n    const newUsers: ProjectUserRes[] = []; //Co\n    for (const userName of userNames) {\n      newUsers.push(this.allUsers.find(el => el.name == userName));\n    }\n    newUsers.push(this.me);\n    if (this.me.id != this.project.owner.id)\n      newUsers.push(this.project.owner);\n    console.log(\"Set user\", newUsers);\n    this.socket.updateUserProject(newUsers);\n  }\n\n  public get userNames(): string[] {\n    return this.allUsers.map(el => el.name).filter(el => !this.selectedUserNames.includes(el));\n  }\n  public get selectedUserNames(): string[] {\n    return this.project.projectUsers.filter(el => el.id != this.me.id && el.id != this.project.owner.id).map(el => el.name);\n  }\n\n\n}\n","<section *ngIf=\"allUsers\">\n  <app-select-chip [data]=\"userNames\" [addedEls]=\"selectedUserNames\" (els)=\"setUsers($event)\" placeholder=\"Pseudo\" label=\"Ajouter des utilisateurs\" class=\"chip-selector\"></app-select-chip>\n</section>\n","import { AddOptionsComponent } from './components/views/board/nav-bar/add-options/add-options.component';\nimport { AddTagComponent } from './components/tabs/tags-manager/add-tag/add-tag.component';\nimport { OptionsSeparatorComponent } from './components/views/board/nav-bar/options-separator/options-separator.component';\nimport { SearchOptionsComponent } from './components/views/board/nav-bar/search-options/search-options.component';\nimport { DocumentOptionsComponent } from './components/views/board/nav-bar/document-options/document-options.component';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatIconModule } from '@angular/material/icon';\nimport { HttpClientModule } from \"@angular/common/http\";\nimport { MatButtonModule } from '@angular/material/button';\nimport { AppRoutingModule } from './app-routing.module';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { FormsModule } from '@angular/forms';\nimport { MatFormFieldModule, MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material/form-field';\nimport { MatInputModule } from \"@angular/material/input\";\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { AppComponent } from './app.component';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatSelectModule } from '@angular/material/select';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HeaderComponent } from './components/views/board/header/header.component';\nimport { LoginComponent } from './components/views/login/login.component';\nimport { ConfirmPasswordComponent } from './components/utils/confirm-password/confirm-password.component';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { ReactiveFormsModule } from \"@angular/forms\";\nimport { BoardComponent } from './components/views/board/board.component';\nimport { appearance } from './style/default';\nimport { MenuComponent } from './components/views/menu/menu.component';\nimport { AskInputComponent } from './components/utils/ask-input/ask-input.component';\nimport { NavBarComponent } from './components/views/board/nav-bar/nav-bar.component';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { WelcomeTabComponent } from './components/tabs/welcome-tab/welcome-tab.component';\nimport { TabViewComponent } from './components/views/board/tab-view/tab-view.component';\nimport { ProjectOptionsComponent } from './components/tabs/project-options/project-options.component';\nimport { SelectChipComponent } from './components/utils/select-chip/select-chip.component';\nimport { UserAddComponent } from './components/tabs/project-options/user-add/user-add.component';\nimport { DocumentComponent } from './components/tabs/document/document.component';\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\nimport { EditTagsComponent } from './components/utils/edit-tags/edit-tags.component';\nimport { TagsManagerComponent } from './components/tabs/tags-manager/tags-manager.component';\nimport { MAT_COLOR_FORMATS, NgxMatColorPickerModule, NGX_MAT_COLOR_FORMATS } from '@angular-material-components/color-picker';\nimport { ConfirmComponent } from './components/utils/confirm/confirm.component';\nimport { SearchResultsComponent } from './components/views/board/nav-bar/search-results/search-results.component';\n@NgModule({\n  declarations: [\n    AddOptionsComponent,\n    AppComponent,\n    HeaderComponent,\n    LoginComponent,\n    ConfirmPasswordComponent,\n    BoardComponent,\n    MenuComponent,\n    AskInputComponent,\n    NavBarComponent,\n    WelcomeTabComponent,\n    TabViewComponent,\n    ProjectOptionsComponent,\n    SelectChipComponent,\n    UserAddComponent,\n    DocumentComponent,\n    DocumentOptionsComponent,\n    SearchOptionsComponent,\n    OptionsSeparatorComponent,\n    EditTagsComponent,\n    TagsManagerComponent,\n    AddTagComponent,\n    ConfirmComponent,\n    SearchResultsComponent\n  ],\n  imports: [\n    ReactiveFormsModule,\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    MatProgressBarModule,\n    MatToolbarModule,\n    MatIconModule,\n    FormsModule,\n    HttpClientModule,\n    MatFormFieldModule,\n    MatDialogModule,\n    MatInputModule,\n    MatSnackBarModule,\n    MatButtonModule,\n    MatDividerModule,\n    MatTabsModule,\n    MatChipsModule,\n    MatAutocompleteModule,\n    MatSelectModule,\n    CKEditorModule,\n    NgxMatColorPickerModule,\n    MatRippleModule\n  ],\n  providers: [\n    { provide: MAT_FORM_FIELD_DEFAULT_OPTIONS, useValue: appearance },\n    { provide: MAT_COLOR_FORMATS, useValue: NGX_MAT_COLOR_FORMATS }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n","import { Component, EventEmitter, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-confirm-password',\n  templateUrl: './confirm-password.component.html',\n})\nexport class ConfirmPasswordComponent {\n\n  @Output() public onConfirm: EventEmitter<string> = new EventEmitter();\n}\n","<h1 mat-dialog-title>\n  Vérification du mot de passe\n</h1>\n\n<div mat-dialog-content style=\"text-align: center;\">\n  <mat-form-field color=\"accent\">\n    <mat-label>Confirmer le mot de passe</mat-label>\n    <input type=\"password\" #input matInput >\n  </mat-form-field>\n</div>\n\n<div mat-dialog-actions align=\"end\">\n  <button mat-stroked-button color=\"accent\" (click)=\"onConfirm.emit(input.value)\">Confirmer</button>\n</div>\n","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-options-separator',\n  templateUrl: './options-separator.component.html',\n  styleUrls: ['./options-separator.component.scss']\n})\nexport class OptionsSeparatorComponent {\n\n  public displayed = true;\n\n  @Input() public title?: string;\n\n  @Output() private toggle: EventEmitter<void> = new EventEmitter;\n\n  public onToggle() {\n    this.displayed = !this.displayed;\n    this.toggle.emit();\n  }\n}\n","<div class=\"wrapper\">\n  <mat-divider class=\"separator\"></mat-divider>\n  <h4 *ngIf=\"title\" class=\"title\">{{ title }}</h4>\n  <button mat-icon-button (click)=\"onToggle()\">\n    <mat-icon class=\"mat-18\" color=\"accent\" [class]=\"!displayed ? 'closed' : ''\">keyboard_arrow_down</mat-icon>\n  </button>\n</div>\n","export enum Flags {\n  OPEN_DOC = \"OPEN_DOC\",\n  SEND_DOC = \"SEND_DOC\",\n  CLOSE_DOC = \"CLOSE_DOC\",\n  WRITE_DOC = \"WRITE_DOC\",\n  CURSOR_DOC = \"CURSOR_DOC\",\n  REMOVE_DOC = \"REMOVE_DOC\",\n  TAG_ADD_DOC = \"TAG_ADD_DOC\",\n  TAG_REMOVE_DOC = \"TAG_REMOVE_DOC\",\n  TAG_ALL_DOC = \"TAG_ALL_DOC\",\n  RENAME_DOC = \"RENAME_DOC\",\n\n  CREATE_TAG = \"CREATE_TAG\",\n  REMOVE_TAG = \"REMOVE_TAG\",\n  RENAME_TAG = \"RENAME_TAG\",\n  COLOR_TAG = \"COLOR_TAG\",\n\n  OPEN_PROJECT = \"OPEN_PROJECT\",\n  CLOSE_PROJECT = \"CLOSE_PROJECT\",\n  RENAME_PROJECT = \"RENAME_PROJECT\",\n  ADD_USER_PROJECT = \"ADD_USER_PROJECT\",\n  REMOVE_USER_PROJECT = \"REMOVE_USER_PROJECT\",\n\n  RENAME_FILE = \"RENAME_FILE\",\n  GET_FILE = \"GET_FILE\",\n  CREATE_FILE = \"CREATE_FILE\",\n  TAG_ADD_FILE = \"TAG_ADD_FILE\",\n  TAG_REMOVE_FILE = \"TAG_REMOVE_FILE\",\n}\n","module.exports = __webpack_public_path__ + \"1.worker.js\"","import { Tag } from './../../../models/sockets/tag-sock.model';\nimport { SocketService } from './../../../services/socket.service';\nimport { ProjectService } from './../../../services/project.service';\nimport { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { diff as arrayDiff } from \"fast-array-diff\";\nimport { Flags } from 'src/app/models/sockets/flags.enum';\nimport { EditTagDocumentReq } from 'src/app/models/sockets/document-sock.model';\n\n@Component({\n  selector: 'app-edit-tags',\n  templateUrl: './edit-tags.component.html',\n})\nexport class EditTagsComponent {\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public tabId: string,\n    public readonly project: ProjectService,\n    private readonly socket: SocketService\n  ) { }\n\n  updateTags(editedTags: string[]) {\n    console.log(editedTags);\n    const createdTags = editedTags.filter(el => !this.project.tags.find(value => el === value.name)).map(el => new Tag(el));\n    const newTags = [...this.project.tags.filter(el => editedTags.includes(el.name)), ...createdTags];\n    const oldTags = this.doc.tags;\n    const diff = arrayDiff(oldTags, newTags, (a, b) => a.name === b.name);\n    this.project.updateDocTags(this.tabId, newTags);\n    const docId = this.project.openDocs[this.tabId].id;\n\n    //Little patch with filter method to avoid repetitions in diff.added and removed\n    for (const addedTag of diff.added.filter(el => !diff.removed.find(val => val.name === el.name)))\n      this.socket.socket.emit(Flags.TAG_ADD_DOC, new EditTagDocumentReq(docId, addedTag.name));\n    for (const removedTag of diff.removed.filter(el => !diff.added.find(val => val.name == el.name)))\n      this.socket.socket.emit(Flags.TAG_REMOVE_DOC, new EditTagDocumentReq(docId, removedTag.name));\n  }\n  public tagClick(tagName: string) {\n    console.log(tagName);\n  }\n\n  get doc() {\n    return this.project.openDocs[this.tabId];\n  }\n\n  get tagNames() {\n    return this.project.tags?.map(el => el.name) ?? [];\n  }\n  get docTags() {\n    return this.doc.tags;\n  }\n  get docTagNames() {\n    return this.docTags?.map(el => el.name) ?? [];\n  }\n  get docTagColors() {\n    const map = new Map<string, string>();\n    for (const el of this.docTags)\n      map.set(el.name, el.color);\n    return map;\n  }\n}\n","<h1 mat-dialog-title>\n  Editer les tags du document\n</h1>\n\n<div mat-dialog-content style=\"text-align: center;\">\n  <app-select-chip [addedEls]=\"docTagNames\" [label]=\"'Editer les tags'\"\n    [data]=\"tagNames\"\n    [canAddData]=\"true\"\n    (els)=\"updateTags($event)\"\n    [colors]=\"docTagColors\"\n    [placeholder]=\"'Nouveau tag'\"\n    (click)=\"tagClick($event)\"\n    ></app-select-chip>\n</div>\n\n<div mat-dialog-actions align=\"end\">\n  <button mat-stroked-button color=\"accent\" mat-dialog-close>Confirmer</button>\n</div>\n","import { Router } from '@angular/router';\nimport { ApiService } from './api.service';\nimport { DocumentModel, DocumentRes, Change, WriteDocumentRes } from './../models/sockets/document-sock.model';\nimport { GetProjectRes, ProjectUserRes, GetProjectDocumentRes, SearchQueryRes } from './../models/api/project.model';\nimport { Injectable, OnInit } from '@angular/core';\nimport { Tag } from '../models/sockets/tag-sock.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProjectService implements OnInit {\n\n  public openDocs: { [k: string]: DocumentModel } = {};\n  public requestingId: number;\n\n  constructor(\n    private readonly router: Router\n  ) {}\n  ngOnInit(): void {\n    console.log(\"test\");\n  }\n\n  private data: GetProjectRes = JSON.parse(localStorage.getItem(\"project-data\"));\n  public async loadData(data: GetProjectRes) {\n    this.data = data;\n    localStorage.setItem(\"project-data\", JSON.stringify(data));\n    this.openDocs = {};\n    this.requestingId = null;\n  }\n\n  public get name(): string {\n    return this.data.name;\n  }\n  public set name(name: string) {\n    this.data.name = name;\n  }\n\n  public get projectUsers(): ProjectUserRes[] {\n    return this.data.users;\n  }\n  public addProjectUser(user: ProjectUserRes) {\n    this.data.users.push(user);\n    this.saveData();\n  }\n  public removeProjectUser(user: ProjectUserRes) {\n    const index = this.data.users.findIndex(el => el.id == user.id);\n    this.data.users.splice(index, 1);\n    this.saveData();\n  }\n  public addOpenDoc(packet: DocumentRes) {\n    const id = packet.lastUpdate;\n    packet.doc.lastChangeId = id;\n    packet.doc.changes = new Map<number, Change[]>();\n    packet.doc.clientUpdateId = 0;\n    this.requestingId = packet.doc.id;\n    this.openDocs[packet.reqId] = packet.doc;\n    if (!this.data.documents.find(el => el.id == packet.doc.id)) {\n      this.data.documents.push(packet.doc);\n      this.saveData();\n    }\n  }\n  public updateDoc(incomingDoc: WriteDocumentRes) {\n    const doc = this.openDocs[incomingDoc.reqId];\n    let content: string = \"\";\n    //On part du dernier ID du packet recu jusqu'au dernière id du document,\n    for (let updateIndex = incomingDoc.lastClientUpdateId + 1; updateIndex <= doc.clientUpdateId; updateIndex++) {\n      //On récupère chaque update depuis le dernière id du packet jusqu'au dernier id actuel\n      const update = doc.changes.get(updateIndex);\n      let indexDiff = 0;\n      //Pour chaque changement dans l'update\n      for (const change of update) {\n        switch (change[0]) {\n          case 1://Si c'est un ajout :\n            for (let newChange of incomingDoc.changes) { //Pour chaque nouveau changement\n              let newChangeIndex = newChange[1]; //on récupère l'index de l'ajout\n              if (newChangeIndex >= change[1] - indexDiff) // Si l'index de l'ajout est supérieur à l'index actuel\n                newChange[1] += change[2].length;\n              //On ajoute la taille de l'ancien ajout au nouvel index\n            }\n            indexDiff += change[2].length;  //On ajoute à l'index la taille du changement\n            break;\n          case -1://Si c'est une suppression\n            for (let newChange of incomingDoc.changes) { //Pour chaque changement\n              let newChangeIndex = newChange[1]; //On récupère l'index du nouvel l'ajout\n              if (newChangeIndex >= change[1] - indexDiff) //Si on est apprès dans le texte\n                newChange[1] -= change[2].length;\n              //On enlève la taille de la suppression\n            }\n            indexDiff -= change[2].length;  //On enlève à l'index à la taille du changement\n          default:\n            break;\n        }\n      }\n    }\n    content = doc.content;\n    let stepIndex: number = 0;\n    //Pour chaque nouveau changement on fait la mise à jour à partir du packet modifié par l'agorithme ci-dessus\n    for (const change of incomingDoc.changes) {\n      switch (change[0]) {\n        case 1:\n          content = content.insert(change[1] + stepIndex, change[2]);\n          break;\n        case -1:\n          content = content.delete(change[1] + stepIndex, change[2].length);\n          stepIndex -= change[2].length;\n          break;\n        default: break;\n      }\n    }\n    doc.content = content;\n  }\n\n  public setDocIndex(index: number, id: number) {\n    const indexEl = Object.values(this.openDocs).findIndex(el => el.id == id);\n    this.openDocs[indexEl].elIndex = index;\n  }\n  public removeOpenDoc(docId: number) {\n    const index = Object.values(this.openDocs).findIndex(el => el.id == docId);\n    delete this.openDocs[index];\n  }\n  public renameDoc(tabId: string, title: string) {\n    this.openDocs[tabId].title = title;\n    const docId = this.openDocs[tabId].id;\n    this.data.documents.find(el => el.id == docId).title = title;\n    this.saveData();\n  }\n  public updateDocTags(tabId: string, tags: Tag[]) {\n    this.openDocs[tabId].tags = tags;\n    const docId = this.openDocs[tabId].id;\n    this.data.documents.find(el => el.id == docId).tags = tags;\n    this.saveData();\n  }\n  public addProjectTag(tag: Tag) {\n    this.data.tags.push(tag);\n    this.saveData();\n  }\n  public removeProjectTag(name: string) {\n    this.data.tags.splice(this.tags.findIndex(el => el.name === name), 1);\n    this.saveData();\n  }\n  public updateProjectTag(tag: Tag, newTag?: Tag) {\n    const index = this.tags.findIndex(el => el.name === tag.name);\n    this.data.tags[index] = newTag ?? tag;\n    this.saveData();\n  }\n\n  public saveData() {\n    setTimeout(() => localStorage.setItem(\"project-data\", JSON.stringify(this.data)), 0);\n  }\n  public exit() {\n    localStorage.removeItem(\"project-data\");\n    localStorage.removeItem(\"project\");\n    localStorage.removeItem(\"tabs\");\n    this.router.navigateByUrl(\"/menu\");\n  }\n\n  public set projectUsers(users: ProjectUserRes[]) {\n    this.data.users = users;\n    this.saveData();\n  }\n\n  public get tags(): Tag[] {\n    return this.data.tags;\n  }\n  public set tags(tags: Tag[]) {\n    this.data.tags = tags;\n    this.saveData();\n  }\n  public get owner(): ProjectUserRes {\n    return this.data.createdBy;\n  }\n  public get id(): number {\n    return this.data.id;\n  }\n  public get docs(): GetProjectDocumentRes[] {\n    return this.data.documents;\n  }\n\n  public getDoc(docId: number) {\n    return Object.values(this.openDocs).find(el => el.id == docId);\n  }\n}\n","import { WorkerManagerService } from './../../../../../services/worker-manager.service';\nimport { ProgressService } from 'src/app/services/progress.service';\nimport { SearchResults } from './../../../../../models/api/project.model';\nimport { ProjectService } from './../../../../../services/project.service';\nimport { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-search-options',\n  templateUrl: './search-options.component.html',\n  styleUrls: ['./search-options.component.scss']\n})\nexport class SearchOptionsComponent implements OnInit {\n\n  public searchQuery: string;\n  public queryCount = 0;\n  public sortState: (\"doc\" | \"tag\")[] = [\"doc\", \"tag\"];\n\n  @Output() public results: EventEmitter<SearchResults> = new EventEmitter<SearchResults>();\n\n  constructor(\n    private readonly project: ProjectService,\n    private readonly progress: ProgressService,\n    private readonly workerManager: WorkerManagerService\n  ) { }\n  ngOnInit(): void {\n    this.workerManager.addEventListener('search', (data: SearchResults) => this.onSearch(data));\n  }\n\n  public async search() {\n    if (this.searchQuery.length < 2 && this.searchQuery !== '*') {\n      this.results = null;\n      return;\n    }\n    this.progress.show();\n    this.queryCount++;\n    this.workerManager.postMessage('search', [this.searchQuery, [this.project.tags, this.project.docs]]);\n  }\n\n  public onSearch(data: SearchResults) {\n    this.results.emit(data);\n    this.queryCount--;\n    if (this.queryCount == 0)\n      this.progress.hide();\n  }\n  public onChipClick(state: \"doc\" | \"tag\") {\n    if (this.sortState.includes(state))\n      this.sortState.splice(this.sortState.indexOf(state), 1);\n    else this.sortState.push(state);\n  }\n}\n","<div class=\"wrapper\">\n  <div class=\"search-wrapper\">\n    <mat-form-field color=\"accent\" class=\"search\">\n      <mat-label>Rechercher</mat-label>\n      <input type=\"search\" matInput placeholder=\"@doc, #tag\" [(ngModel)]=\"searchQuery\" (ngModelChange)=\"search()\">\n      <mat-icon color=\"accent\" matSuffix>search</mat-icon>\n    </mat-form-field>\n  </div>\n</div>\n","import { ConfirmComponent } from './../../../utils/confirm/confirm.component';\nimport { UpdateTagNameReq } from './../../../../models/sockets/tag-sock.model';\nimport { Flags } from './../../../../models/sockets/flags.enum';\nimport { SocketService } from './../../../../services/socket.service';\nimport { SnackbarService } from './../../../../services/snackbar.service';\nimport { ProjectService } from './../../../../services/project.service';\nimport { Component, Inject, Input, OnInit } from '@angular/core';\nimport { Tag, UpdateTagColorReq } from 'src/app/models/sockets/tag-sock.model';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Color } from '@angular-material-components/color-picker';\n\n@Component({\n  selector: 'app-add-tag',\n  templateUrl: './add-tag.component.html',\n})\nexport class AddTagComponent {\n\n  tagName: string;\n  color: Color;\n\n  modify: boolean = false;\n\n  constructor(\n    private readonly project: ProjectService,\n    private readonly snackbar: SnackbarService,\n    private readonly socket: SocketService,\n    private readonly dialog: MatDialog,\n    private dialogRef: MatDialogRef<AddTagComponent>,\n    @Inject(MAT_DIALOG_DATA) public readonly oldTag?: Tag,\n  ) {\n    if (oldTag) {\n      this.modify = true;\n      this.tagName = oldTag.name;\n      if (oldTag.color) {\n        const hex = oldTag.color;\n        const [r, g, b] = [hex.slice(0, 2), hex.slice(2, 4), hex.slice(4, 6)].map(el => parseInt(el, 16));\n        this.color = new Color(r, g, b);\n      }\n    }\n  }\n\n  public addTag() {\n    if (!this.tagName || this.tagName.length == 0 || this.color == null)\n      this.snackbar.snack(\"Tag invalide !\");\n    else {\n      console.log(this.color.toHexString(false));\n      const newTag = new Tag(this.tagName, this.color?.toHexString(false).substr(1), this.oldTag?.primary ?? true);\n      if (this.modify) {\n        this.project.updateProjectTag(this.oldTag, newTag);\n        if (newTag.color != this.oldTag.color)\n          this.socket.socket.emit(Flags.COLOR_TAG, new UpdateTagColorReq(newTag.name, newTag.color));\n        if (newTag.name != this.oldTag.name)\n          this.socket.socket.emit(Flags.RENAME_TAG, new UpdateTagNameReq(this.oldTag.name, newTag.name));\n      }\n      else {\n        this.project.addProjectTag(newTag);\n        this.socket.socket.emit(Flags.CREATE_TAG, newTag);\n      }\n      this.dialogRef.close();\n    }\n  }\n  public removeTag() {\n    const dialog = this.dialog.open(ConfirmComponent, { data: \"Supprimer le tag ?\" });\n    dialog.componentInstance.confirm.subscribe(() => {\n      this.socket.socket.emit(Flags.REMOVE_TAG, this.oldTag.name);\n      this.project.removeProjectTag(this.oldTag.name);\n      dialog.close();\n      this.dialogRef.close();\n    });\n\n  }\n  public onInputChange(val: string) {\n    this.tagName = val.replace(\" \", \"-\").toLowerCase();\n  }\n}\n","<h1 mat-dialog-title>\n  {{ !modify ? \"Ajouter un tag\" : \"Modifier le tag\" }}\n</h1>\n\n<div mat-dialog-content style=\"text-align: center;\">\n  <mat-form-field color=\"accent\" style=\"width: 100%;\">\n    <mat-label>{{ !modify ? \"Nouveau tag primaire\" : \"Modifier le tag primaire\" }}</mat-label>\n    <input type=\"text\" #input matInput [(ngModel)]=\"tagName\" (ngModelChange)=\"onInputChange($event)\">\n  </mat-form-field> <br>\n  <mat-form-field color=\"accent\" style=\"width: 100%;\">\n    <mat-label>Couleur du tag</mat-label>\n    <input matInput [ngxMatColorPicker]=\"picker\" [(ngModel)]=\"color\">\n    <ngx-mat-color-toggle matSuffix [for]=\"picker\"></ngx-mat-color-toggle>\n    <ngx-mat-color-picker #picker [touchUi]=\"false\" [color]=\"color\"></ngx-mat-color-picker>\n  </mat-form-field>\n  <button *ngIf=\"modify\" mat-stroked-button style=\"border: red solid 2px\" (click)=\"removeTag()\">Supprimer le tag</button>\n</div>\n\n<div mat-dialog-actions align=\"end\">\n  <button mat-stroked-button color=\"accent\" (click)=\"addTag()\">Confirmer</button>\n</div>\n","import { ProjectService } from 'src/app/services/project.service';\nimport { ProgressService } from './../../../services/progress.service';\nimport { ApiService } from './../../../services/api.service';\nimport { MatSnackBar, MatSnackBarRef, TextOnlySnackBar } from '@angular/material/snack-bar';\nimport { SocketService } from './../../../services/socket.service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-board',\n  templateUrl: './board.component.html',\n  styleUrls: ['./board.component.scss']\n})\nexport class BoardComponent implements OnInit {\n\n\n  constructor(\n    private readonly socket: SocketService,\n    private readonly snackbar: MatSnackBar,\n    private readonly api: ApiService,\n    private readonly progress: ProgressService,\n    private readonly project: ProjectService\n  ) { }\n\n  async ngOnInit(): Promise<void> {\n    this.socket.connect();\n    let snack: MatSnackBarRef<TextOnlySnackBar>;\n    try {\n      this.progress.show();\n      snack = this.snackbar.open(\"Synchronisation du projet...\", null, { duration: null });\n      await this.api.openProject(this.project.id);\n      this.snackbar.open(\"Project synchronisé avec succès !\", null, { duration: 3000 });\n    } catch (e) {\n      console.error(e);\n      this.snackbar.open(\"Impossible de synchroniser le projet...\", null, { duration: 3000 });\n    } finally {\n      this.progress.hide();\n      snack.dismiss();\n    }\n  }\n\n\n}\n","<div class=\"wrapper\">\n  <div class=\"body\">\n    <app-header></app-header>\n    <app-tab-view></app-tab-view>\n  </div>\n  <app-nav-bar></app-nav-bar>\n</div>\n\n","import { COMMA, ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { MatAutocompleteSelectedEvent } from '@angular/material/autocomplete';\nimport { MatChipInputEvent } from '@angular/material/chips';\n\n@Component({\n  selector: 'app-select-chip',\n  templateUrl: './select-chip.component.html'\n})\nexport class SelectChipComponent {\n\n  public readonly addElAction = [COMMA, ENTER, SPACE];\n\n  @Input()\n  public addedEls: string[] = [];\n\n  @Input()\n  public prefix: string = \"\";\n\n  @Input()\n  public colors: Map<string, string> = new Map();\n\n  @Output()\n  public els: EventEmitter<string[]> = new EventEmitter<string[]>();\n\n  @Output()\n  public click: EventEmitter<string> = new EventEmitter<string>();\n\n  @Input()\n  public label: string;\n\n  @Input()\n  public placeholder: string;\n\n  @Input()\n  public data: string[];\n\n  @Input()\n  public canAddData: boolean = false;\n\n  @ViewChild(\"elInput\")\n  public elInput: ElementRef<HTMLInputElement>;\n\n  public filterEls(value: string): string[] {\n    value = value?.toLowerCase();\n    return this.data?.filter(el => !this.addedEls.includes(el) && el?.toLowerCase()?.includes(value)) ?? [];\n  }\n\n  public addEl(event: MatAutocompleteSelectedEvent | MatChipInputEvent) {\n    const value = event instanceof MatAutocompleteSelectedEvent ? event.option.viewValue : event.value;\n\n    if ((this.data.includes(value.toLowerCase()) || this.canAddData) && !this.addedEls.includes(value.toLowerCase()) && value.trim().length > 0) {\n      this.addedEls.push(value.toLowerCase());\n      this.data.splice(this.data.indexOf(value.toLowerCase()), 1);\n      this.sendEls();\n    }\n    this.elInput.nativeElement.value = '';\n  }\n\n  public removeEl(event: string) {\n    this.addedEls.splice(this.addedEls.indexOf(event), 1);\n    this.data.push(event);\n    this.sendEls();\n  }\n\n  private sendEls() {\n    this.els.emit(this.addedEls);\n  }\n}\n","<mat-form-field color=\"accent\" style=\"width: 100%;\">\n  <mat-label>{{ label }}</mat-label>\n  <mat-chip-list #chipList>\n    <mat-chip *ngFor=\"let el of addedEls\" (removed)=\"removeEl(el)\" (click)=\"click.emit(el)\" [style]=\"'background-color: #' + colors.get(el)\">\n      {{ prefix + el }}\n      <mat-icon matChipRemove>cancel</mat-icon>\n    </mat-chip>\n    <input #elInput [placeholder]=\"placeholder\" [matAutocomplete]=\"auto\" [matChipInputFor]=\"chipList\" [matChipInputSeparatorKeyCodes]=\"addElAction\" (matChipInputTokenEnd)=\"addEl($event)\">\n  </mat-chip-list>\n  <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"addEl($event)\">\n    <mat-option *ngFor=\"let el of filterEls(elInput.value)\" [value]=\"el\">\n      {{ prefix + el }}\n    </mat-option>\n  </mat-autocomplete>\n</mat-form-field>\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProgressService {\n\n  private _mode: \"determinate\" | \"indeterminate\";\n  private _showing: boolean = false;\n  private _value: number = 0;\n\n  public show(determinate = false) {\n    this._mode = determinate ? \"determinate\" : \"indeterminate\";\n    if (!this._showing)\n      this._showing = true;\n  }\n  public hide() {\n    if (this.showing)\n      this._showing = false;\n  }\n  public updateValue(val: number) {\n    this._value = val;\n  }\n\n  get mode(): \"determinate\" | \"indeterminate\" {\n    return this._mode;\n  }\n  get showing(): boolean {\n    return this._showing;\n  }\n  get value(): number {\n    return this._value;\n  }\n}\n","import { ProgressService } from './../../../services/progress.service';\nimport { ApiService } from 'src/app/services/api.service';\nimport { SocketService } from './../../../services/socket.service';\nimport { Tag } from 'src/app/models/sockets/tag-sock.model';\nimport { AddTagComponent } from './add-tag/add-tag.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ProjectService } from './../../../services/project.service';\nimport { ITabElement } from './../../../models/tab-element.model';\nimport { ChangeDetectionStrategy, Component, OnInit, Provider, Type, ViewEncapsulation } from '@angular/core';\nimport { diff as arrayDiff } from \"fast-array-diff\";\nimport { Flags } from 'src/app/models/sockets/flags.enum';\n@Component({\n  selector: 'app-tags-manager',\n  templateUrl: './tags-manager.component.html',\n  styleUrls: ['./tags-manager.component.scss']\n})\nexport class TagsManagerComponent implements ITabElement {\n\n  constructor(\n    private readonly project: ProjectService,\n    private readonly dialog: MatDialog,\n    private readonly socket: SocketService,\n  ) { }\n\n  title: string = \"Gestionnaire de tags\";\n  show: boolean = false;\n\n  public addPrimaryTag() {\n    this.dialog.open(AddTagComponent);\n  }\n\n  public updateTag(tag: Tag) {\n    this.dialog.open(AddTagComponent, { data: tag });\n  }\n\n  public updateSecondaryTags(newTagNames: string[]) {\n    const createdTags = newTagNames.filter(el => !this.project.tags.find(value => el === value.name)).map(el => new Tag(el));\n    const newTags = [...this.project.tags.filter(el => newTagNames.includes(el.name)), ...createdTags];\n    const oldTags = this.secondaryTags;\n    const diff = arrayDiff(oldTags, newTags, (a, b) => a.name === b.name);\n\n    this.project.tags = [...newTags, ...this.primaryTags];\n\n    //Little patch with filter method to avoid repetitions in diff.added and removed\n    for (const addedTag of diff.added.filter(el => !diff.removed.find(val => val.name === el.name)))\n      this.socket.socket.emit(Flags.CREATE_TAG, addedTag);\n    for (const removedTag of diff.removed.filter(el => !diff.added.find(val => val.name == el.name)))\n      this.socket.socket.emit(Flags.REMOVE_TAG, removedTag.name);\n  }\n\n  public onSecondaryTagClick(tagName: string) {\n    const tag = this.secondaryTags.find(el => el.name === tagName);\n    if (tag)\n      this.dialog.open(AddTagComponent, { data: tag });\n  }\n\n  get primaryTags(): Tag[] {\n    return this.project.tags.filter(el => el.primary);\n  }\n\n  get secondaryTags(): Tag[] {\n    return this.project.tags.filter(el => !el.primary);\n  }\n  get secondaryTagNames(): string[] {\n    return this.secondaryTags.map(el => el.name);\n  }\n  get secondaryTagColors(): Map<string, string> {\n    const map = new Map<string, string>();\n    for (const tag of this.secondaryTags)\n      map.set(tag.name, tag.color);\n    return map;\n  }\n\n  get docTags(): Tag[] {\n    return this.project.docs\n      .reduce<string[]>((prev, curr) => [...prev, ...curr.tags.map(el => el.name)], [])\n      .map(el => this.project.tags.find(val => val.name === el))\n      .filter(el => el != null && !el.primary);\n  }\n}\n","<div class=\"wrapper\" *ngIf=\"show\">\n  <h1>Gérer les tags</h1>\n  <section>\n    <h3>Tags primaires :</h3>\n    <mat-chip-list aria-label=\"doc tags\" *ngIf=\"primaryTags && primaryTags.length > 0\">\n      <mat-chip (click)=\"updateTag(tag)\" *ngFor=\"let tag of primaryTags\" [style]=\"'background-color: #' + tag.color\">#{{ tag.name }}</mat-chip>\n      <mat-chip (click)=\"addPrimaryTag()\"><mat-icon color=\"accent\">add</mat-icon></mat-chip>\n    </mat-chip-list>\n    <button mat-stroked-button (click)=\"addPrimaryTag()\" *ngIf=\"!primaryTags || primaryTags.length == 0\">Créer des tags primaires</button>\n  </section>\n  <section>\n    <app-select-chip\n      [prefix]=\"'#'\"\n      [addedEls]=\"secondaryTagNames\"\n      [label]=\"'Tags secondaires :'\"\n      [data]=\"secondaryTagNames\"\n      [colors]=\"secondaryTagColors\"\n      [canAddData]=\"true\"\n      [dispChoices]=\"false\"\n      (els)=\"updateSecondaryTags($event)\"\n      [placeholder]=\"'Nouveau tag'\"\n      (click)=\"onSecondaryTagClick($event)\"\n    ></app-select-chip>\n  </section>\n  <section *ngIf=\"docTags && docTags.length > 0\">\n    <h3>Tags inclus dans les documents</h3>\n    <mat-chip-list aria-label=\"doc tags\">\n      <mat-chip (click)=\"updateTag(tag)\" *ngFor=\"let tag of docTags\" [style]=\"'background-color: #' + tag.color\">#{{ tag.name }}</mat-chip>\n    </mat-chip-list>\n  </section>\n</div>\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkerManagerService {\n\n  private worker: Worker;\n  private readonly eventListeners: Map<string, WorkerListener<any>[]> = new Map();\n\n  constructor() {\n    if (typeof Worker === 'undefined')\n      alert(\"Worker not supported, cannot start Doscenario\");\n    else\n      this.worker = new Worker('../app.worker', { type: 'module' });\n    console.log(\"Worker\", this.worker);\n    this.worker.onmessage = e => this.onMessage(e);\n   }\n\n  addEventListener<Q>(event: string, listener: WorkerListener<Q>): void {\n    if (this.eventListeners.has(event)) {\n      const array = this.eventListeners.get(event);\n      array.push(listener);\n      this.eventListeners.set(event, array);\n    } else\n      this.eventListeners.set(event, [listener]);\n  }\n\n  removeEventListener(event: string): boolean {\n    return this.eventListeners.delete(event);\n  }\n\n  postMessage<Q>(flag: string, message: Q) {\n    this.worker.postMessage([flag, message]);\n  }\n\n  /**\n   * On worker message\n   */\n  private onMessage(e: MessageEvent<[string, any]>) {\n    for (let [event, listeners] of this.eventListeners.entries()) {\n      if (e.data[0] == event) {\n        for (const listener of listeners)\n          listener(e.data[1]);\n      }\n    }\n  }\n}\n\nexport type WorkerListener<Q> = (data: Q) => void;\n","import { Router } from '@angular/router';\nimport { CreateProjectReq, CreateProjectRes } from '../../../models/api/project.model';\nimport { AskInputComponent } from '../../utils/ask-input/ask-input.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { SnackbarService } from '../../../services/snackbar.service';\nimport { UserDetailsRes, UserProjectsRes } from '../../../models/api/user.model';\nimport { ProgressService } from '../../../services/progress.service';\nimport { ApiService } from '../../../services/api.service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.scss']\n})\nexport class MenuComponent implements OnInit {\n\n  public data: UserDetailsRes;\n  constructor(\n    private readonly api: ApiService,\n    private readonly progress: ProgressService,\n    private readonly snackbar: SnackbarService,\n    private readonly dialog: MatDialog,\n    private readonly router: Router\n  ) { }\n\n  public async ngOnInit(): Promise<void> {\n    this.progress.show();\n    try {\n      this.data = await this.api.get<UserDetailsRes>(\"user/me\");\n      localStorage.setItem(\"me\", JSON.stringify(this.data));\n      this.progress.hide();\n    } catch (e) {\n      this.snackbar.snack(\"Impossible de charger les projets !\");\n      console.error(e);\n      this.progress.hide();\n    }\n  }\n\n  public async createProject() {\n    const dialog = this.dialog.open(AskInputComponent, { data: \"Créer un nouveau projet\" });\n    dialog.componentInstance.onConfirm.subscribe(async (name: string) => {\n      dialog.close();\n      this.progress.show();\n      try {\n        const res = await this.api.post<CreateProjectReq, CreateProjectRes>(\"project\", { name });\n        this.data.projects.push({\n          createdDate: res.createdDate,\n          id: res.id,\n          name: res.name\n        });\n        this.progress.hide();\n      } catch (e) {\n        console.error(e);\n        this.snackbar.snack(\"Une erreur est apparue lors de la création du projet\");\n        this.progress.hide();\n      }\n    });\n  }\n\n  public async openProject(project: UserProjectsRes) {\n    this.progress.show();\n    try {\n      await this.api.openProject(project.id);\n      this.router.navigateByUrl(\"/\");\n    } catch (e) {\n      console.error(e);\n      this.snackbar.snack(\"Impossible de charger le projet\");\n    } finally {\n      this.progress.hide();\n    }\n  }\n\n}\n","<h1>Mes projets</h1>\n<div class=\"wrapper\" *ngIf=\"data?.projects?.length != null\">\n  <button mat-stroked-button class=\"project\" *ngFor=\"let project of data.projects\" (click)=\"openProject(project)\">\n    {{ project.name }}\n  </button>\n  <button mat-stroked-button color=\"accent\" class=\"project\" (click)=\"createProject()\">\n    <mat-icon color=\"accent\">add</mat-icon>\n    Créer un nouveau project\n  </button>\n</div>\n","import { TabService } from '../../../../services/tab.service';\nimport { ApiService } from '../../../../services/api.service';\nimport { ProgressService } from '../../../../services/progress.service';\nimport { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit, OnDestroy {\n\n  private tabViewport: HTMLDivElement;\n  private wheelAction: (e: WheelEvent) => void = (e) => this.tabViewport.scrollLeft += e.deltaY;\n  private mouseEnter: () => void = () => window.addEventListener('wheel', this.wheelAction);\n  private mouseLeave: () => void = () => window.removeEventListener('wheel', this.wheelAction);\n\n  constructor(\n    public readonly progress: ProgressService,\n    public readonly tabService: TabService,\n  ) { }\n\n  ngOnInit(): void {\n    this.tabViewport = document.querySelector(\".mat-tab-label-container\");\n    this.tabViewport.addEventListener(\"mouseenter\", this.mouseEnter);\n    this.tabViewport.addEventListener(\"mouseleave\", this.mouseLeave);\n  }\n\n  ngOnDestroy(): void {\n    this.tabViewport.removeEventListener(\"mouseenter\", this.mouseEnter);\n    this.tabViewport.removeEventListener(\"mouseleave\", this.mouseLeave);\n  }\n\n\n  public tabChanged(index: number) {\n    this.tabService.showTab(index);\n  }\n\n  public tabClosed(index: number) {\n    this.tabService.removeTab(index);\n  }\n\n}\n","<mat-progress-bar [mode]=\"progress.mode\" [value]=\"progress.value\" [style.opacity]=\"progress.showing ? 1 : 0\"></mat-progress-bar>\n<mat-tab-group animationDuration=\"0ms\" color=\"accent\" [selectedIndex]=\"tabService.displayedTab ? tabService.displayedTab[0] : 0\" (selectedIndexChange)=\"tabChanged($event)\" [disablePagination]=\"true\">\n  <mat-tab *ngFor=\"let tab of tabService.tabs; let i = index\">\n    <ng-template mat-tab-label>\n      {{ tab.title }}\n      <button mat-icon-button (click)=\"tabClosed(i)\">\n        <mat-icon color=\"accent\">close</mat-icon>\n      </button>\n    </ng-template>\n  </mat-tab>\n</mat-tab-group>\n","import { Injectable } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SnackbarService {\n\n  constructor(\n\t\tprivate readonly _snackBar: MatSnackBar,\n  ) { }\n\n  public async snack(content: string, duration: number = 3500) {\n    await this._snackBar.open(content, null, { duration: duration == 0 ? null : duration }).afterDismissed().toPromise();\n  }\n}\n","import { DocumentComponent } from './../../../tabs/document/document.component';\nimport { WelcomeTabComponent } from '../../../tabs/welcome-tab/welcome-tab.component';\nimport { TabService } from '../../../../services/tab.service';\nimport { AfterViewInit, Component, Inject, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\n\n@Component({\n  selector: 'app-tab-view',\n  templateUrl: './tab-view.component.html',\n})\nexport class TabViewComponent implements AfterViewInit {\n  @ViewChild('container', { read: ViewContainerRef }) container: ViewContainerRef;\n\n  constructor(\n    public readonly tab: TabService,\n  ) { }\n\n  /**\n   * We use SetTimeout to avoid angular lifecycle error\n   */\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.tab.setRootViewContainerRef(this.container);\n      this.tab.loadSavedTabs();\n    }, 0);\n  }\n}\n","<ng-template #container>\n</ng-template>\n<app-welcome-tab *ngIf=\"tab.tabs.length == 0\" [show]=\"true\"></app-welcome-tab>\n","import { ProjectGuard } from './guards/project.guard';\nimport { MenuComponent } from './components/views/menu/menu.component';\nimport { BoardComponent } from './components/views/board/board.component';\nimport { AuthGuard } from './guards/auth.guard';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './components/views/login/login.component';\n\nconst routes: Routes = [\n  { path: '', component: BoardComponent, canActivate: [AuthGuard, ProjectGuard] },\n  { path: 'menu', component: MenuComponent, canActivate: [AuthGuard] },\n  { path: 'auth', component: LoginComponent },\n  { path: '**', redirectTo: '' },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","module.exports = __webpack_public_path__ + \"0.worker.js\"","import { WelcomeTabComponent } from './../components/tabs/welcome-tab/welcome-tab.component';\nimport { TagsManagerComponent } from './../components/tabs/tags-manager/tags-manager.component';\nimport { DocumentComponent } from './../components/tabs/document/document.component';\nimport { ProjectOptionsComponent } from '../components/tabs/project-options/project-options.component';\nimport { ComponentFactoryResolver, Inject, Injectable, Type, ViewContainerRef } from '@angular/core';\nimport { ITabElement } from '../models/tab-element.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TabService {\n\n  private _tabs: [Type<ITabElement>, ITabElement][] = [];\n  private factoryResolver: ComponentFactoryResolver;\n  private rootViewContainer: ViewContainerRef;\n\n  private readonly availableTabs: Type<ITabElement>[] = [\n    ProjectOptionsComponent,\n    DocumentComponent,\n    TagsManagerComponent,\n    WelcomeTabComponent\n  ];\n\n  constructor(@Inject(ComponentFactoryResolver) factoryResolver: ComponentFactoryResolver) {\n    this.factoryResolver = factoryResolver\n  }\n\n  public setRootViewContainerRef(viewContainerRef: ViewContainerRef) {\n    this.rootViewContainer = viewContainerRef\n  }\n  private addDynamicComponent(el: Type<ITabElement>, id?: number) {\n    const factory = this.factoryResolver.resolveComponentFactory(el)\n    const component = factory.create(this.rootViewContainer.injector);\n    component.instance.show = true;\n    this._tabs.push([el, component.instance]);\n    this.rootViewContainer.insert(component.hostView);\n    if (component.instance?.openTab)\n      component.instance.openTab(id);\n  }\n\n  public loadSavedTabs() {\n    for (const index of this.savedTabs)\n      this.pushTab(this.availableTabs[index[0] || index], false);\n  }\n\n  public pushTab(tab: Type<ITabElement>, save = true, id?: number) {\n    for (const tab of this.tabs)\n      tab.show = false;\n    let displayedIndex: number;\n    console.log(id);\n    if ((id && this._tabs.findIndex(el => el[1].docId === id)) || (this._tabs.findIndex(el => el[0] === tab) && tab !== DocumentComponent))\n      displayedIndex = this._tabs.findIndex(el => el[1].docId === id) || this._tabs.findIndex(el => el[0] === tab);\n    console.log(displayedIndex >= 0 ? `Tab already exists : ${displayedIndex}` : `Creating new tab for ${tab.name}`);\n    if (displayedIndex >= 0)\n      this.showTab(displayedIndex);\n    else {\n      this.addDynamicComponent(tab, id);\n      if (save)\n        this.addTabToStorage(tab, id);\n    }\n  }\n  public removeTab(index: number) {\n    if (this.tabs[index].show)\n      (this.tabs[index - 1] ?? this.tabs[this.tabs.length - 1]).show = true;\n    this.removeTabToStorage(this._tabs[index][0]);\n    this.rootViewContainer.remove(index);\n    this._tabs.splice(index, 1);\n  }\n  public showTab(index: number) {\n    for (const tab of this.tabs)\n      tab.show = false;\n    if (this.tabs[index])\n      this.tabs[index].show = true;\n  }\n  public closeAllTab() {\n    for (let i = 0; i < this._tabs.length; i++)\n      this.removeTab(i);\n  }\n\n  private addTabToStorage(tab: Type<ITabElement>, id?: number) {\n    const index = this.availableTabs.indexOf(tab);\n    const tabs = this.savedTabs;\n    if (id && index >= 0)\n      tabs.push([index, id]);\n    else if (index >= 0)\n      tabs.push(index);\n    localStorage.setItem(\"tabs\", JSON.stringify(tabs));\n  }\n\n  private removeTabToStorage(tab: Type<ITabElement>, id?: number) {\n    const index = this.availableTabs.indexOf(tab);\n    const tabs = this.savedTabs;\n    tabs.splice(tabs.indexOf(id ? [index, id] : index), 1);\n    localStorage.setItem(\"tabs\", JSON.stringify(tabs));\n  }\n  private get savedTabs(): (number | [number, number])[] {\n    return JSON.parse(localStorage.getItem(\"tabs\")) ?? [];\n  }\n\n  public get tabs(): ITabElement[] {\n    return this._tabs.map(el => el[1]) ?? [];\n  }\n  public get displayedTab(): [number, ITabElement] {\n    const index = this._tabs.findIndex(el => el[1].show == true);\n    return index > -1 ? [index, this._tabs[index][1]] : null;\n  }\n  public get hasTabs(): boolean {\n    return this._tabs.length > 0;\n  }\n}\n","import { DocumentComponent } from './../../../../tabs/document/document.component';\nimport { TabService } from './../../../../../services/tab.service';\nimport { Component, Input } from '@angular/core';\n\n@Component({\n    selector: 'app-add-options',\n    templateUrl: './add-options.component.html',\n    styleUrls: ['./add-options.component.scss']\n})\nexport class AddOptionsComponent {\n  constructor(\n    private readonly tabs: TabService\n  ) { }\n\n  createDoc() {\n    this.tabs.pushTab(DocumentComponent, false);\n  }\n}\n","<div class=\"add-options\">\n    <mat-divider></mat-divider>\n    <div>\n      <button mat-stroked-button (click)=\"createDoc()\">\n        <mat-icon class=\"main-icon\" color=\"accent\">description</mat-icon>\n        <mat-icon color=\"accent\" matSuffix>add</mat-icon>\n      </button>\n      <button mat-stroked-button>\n        <mat-icon class=\"main-icon\" color=\"accent\" matSuffix>account_tree</mat-icon>\n        <mat-icon color=\"accent\" matSuffix>add</mat-icon>\n      </button>\n      <button mat-stroked-button>\n        <mat-icon class=\"main-icon\" color=\"accent\" matSuffix>folder</mat-icon>\n      </button>\n    </div>\n  </div>\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nString.prototype.insert = function(index: number, what: string) {\n  return index > 0\n      ? this.replace(new RegExp('.{' + index + '}'), '$&' + what)\n      : what + this;\n};\nString.prototype.delete = function(from: number, length: number = 1) {\n  return this.substring(0, from) + this.substring(from + length, this.length);\n}\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}